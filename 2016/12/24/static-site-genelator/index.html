<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8" /><meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" /><meta content="initial-scale=1.0, user-scalable=no" name="viewport" /><title>イオシフさんの静的サイトジェネレータの使い方 | 恢徳堂のイオシフさんのブログ</title><meta description="Qiitaの中で逢った、ような……     Qiitaの中で逢った、ような……   大トリはとっても嬉しいなって   もうデプロイも恐くない   Bundlerなんて、あるわけない   最後に残ったMac   こんな構成絶対おかしいよ   npm、私の最高のともだち   大トリはとっても嬉しいなって  静的サイトジェネレーター Advent Calendar 2016に参加してます。 なんだか大トリをやるはめになってしまいましたが、笑ってお読みいただければ幸いです。  もうデプロイも恐くな..." /><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><link href="../../../../stylesheets/all-6c9903b9.css" rel="stylesheet" /><meta content="summary" name="twitter:card" /><meta content="@huideyeren" name="twitter:site" /><meta content="恢徳堂のイオシフさんのブログ" name="twitter:title" /><meta content="Qiitaの中で逢った、ような……     Qiitaの中で逢った、ような……   大トリはとっても嬉しいなって   もうデプロイも恐くない   Bundlerなんて、あるわけない   最後に残ったMac   こんな構成絶対おかしいよ   npm、私の最高のともだち   大トリはとっても嬉しいなって  静的サイトジェネレーター Advent Calendar 2016に参加してます。 なんだか大トリをやるはめになってしまいましたが、笑ってお読みいただければ幸いです。  もうデプロイも恐くな..." name="twitter:description" /><link href="/favicons/favicon.ico" rel="shortcut icon" type="image/x-icon" /><link href="/favicons/apple-touch-icon-57x57-bbec039c.png" rel="apple-touch-icon" sizes="57x57" /><link href="/favicons/apple-touch-icon-60x60-e83452a5.png" rel="apple-touch-icon" sizes="60x60" /><link href="/favicons/apple-touch-icon-72x72-4ae36084.png" rel="apple-touch-icon" sizes="72x72" /><link href="/favicons/apple-touch-icon-76x76-e3ce6f2a.png" rel="apple-touch-icon" sizes="76x76" /><link href="/favicons/apple-touch-icon-114x114-371ccb2b.png" rel="apple-touch-icon" sizes="114x114" /><link href="/favicons/apple-touch-icon-120x120-461b0ab1.png" rel="apple-touch-icon" sizes="120x120" /><link href="/favicons/apple-touch-icon-144x144-f376e074.png" rel="apple-touch-icon" sizes="144x144" /><link href="/favicons/apple-touch-icon-152x152-83c10fdc.png" rel="apple-touch-icon" sizes="152x152" /><link href="/favicons/apple-touch-icon-180x180-3e16f684.png" rel="apple-touch-icon" sizes="180x180" /><link href="/favicons/favicon-32x32-f23efb04.png" rel="icon" sizes="32x32" type="image/png" /><link href="/favicons/android-chrome-192x192-91795c57.png" rel="icon" sizes="192x192" type="image/png" /><link href="/favicons/favicon-96x96-e7aa3b4e.png" rel="icon" sizes="96x96" type="image/png" /><link href="/favicons/favicon-16x16-a6950e4a.png" rel="icon" sizes="16x16" type="image/png" /><link href="/favicons/manifest.json" rel="manifest" /><link color="#5bbad5" href="/favicons/safari-pinned-tab-5d318e22.svg" rel="mask-icon" /><meta content="#da532c" name="msapplication-TileColor" /><meta content="/favicons/mstile-144x144-ee8e59d4.png" name="msapplication-TileImage" /><meta content="#ffffff" name="theme-color" /><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', "UA-48887790-1", 'auto');
ga('send', 'pageview');</script><meta property="fb:app_id" content="1004829916221603" /><meta property="og:type" content="article">
<meta property="og:url" content="http://huideyeren.info/2016/12/24/static-site-genelator/">
<meta property="og:title" content="Title">
<meta property="og:image" content="3515381.png">
<meta property="og:site_name" content="恢徳堂のイオシフさんのブログ">
<meta property="og:description" content="イオシフ恢徳野人のブログです。同人活動も含む様々なことをつぶやいてます。"></head><body><header><div class="top-menu"><div class="top-menu-wrapper"><div class="top-menu-list"><ul><li><a href="/">ホーム</a></li><li><a href="/portofolio/">ポートフォリオ</a></li><li><a href="/archives/">アーカイブ</a></li><li><a href="/tags/">タグ</a></li><li><a href="/by-year/">年別の記事</a></li><li><a href="/2016/02/20/site-policy/">サイトポリシー</a></li><li><a href="/tommywalker/">トミーウォーカー関連</a></li><li><a href="http://web.archive.org/web/20150316131324/http://huideyeren.info/">旧ブログ</a></li></ul></div><div class="feed"><a href="/feed.xml"><i class="fa fa-rss-square"></i></a></div></div></div><h1 class="logo"><a href="/" title="恢徳堂のイオシフさんのブログ"><span class="logo-text">恢徳堂のイオシフさんのブログ</span></a></h1></header><main><article><h1 class="article-title">イオシフさんの静的サイトジェネレータの使い方</h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">December 24, 2016</span></div><div class="tag-labels"><a href="/tags/tech/"><small class="tag-label">Tech</small></a><a href="/tags/middleman/"><small class="tag-label">Middleman</small></a></div><hr class="article-header-separator" /><h2 id="qiitaの中で逢ったような">Qiitaの中で逢った、ような……</h2>

<ul id="markdown-toc">
  <li><a href="#qiitaの中で逢ったような" id="markdown-toc-qiitaの中で逢ったような">Qiitaの中で逢った、ような……</a></li>
  <li><a href="#大トリはとっても嬉しいなって" id="markdown-toc-大トリはとっても嬉しいなって">大トリはとっても嬉しいなって</a></li>
  <li><a href="#もうデプロイも恐くない" id="markdown-toc-もうデプロイも恐くない">もうデプロイも恐くない</a></li>
  <li><a href="#bundlerなんてあるわけない" id="markdown-toc-bundlerなんてあるわけない">Bundlerなんて、あるわけない</a></li>
  <li><a href="#最後に残ったmac" id="markdown-toc-最後に残ったmac">最後に残ったMac</a></li>
  <li><a href="#こんな構成絶対おかしいよ" id="markdown-toc-こんな構成絶対おかしいよ">こんな構成絶対おかしいよ</a></li>
  <li><a href="#npm私の最高のともだち" id="markdown-toc-npm私の最高のともだち">npm、私の最高のともだち</a></li>
</ul>

<h2 id="大トリはとっても嬉しいなって">大トリはとっても嬉しいなって</h2>

<p><a href="http://qiita.com/advent-calendar/2016/static-site-generator">静的サイトジェネレーター Advent Calendar 2016</a>に参加してます。<br />
なんだか大トリをやるはめになってしまいましたが、笑ってお読みいただければ幸いです。</p>

<h2 id="もうデプロイも恐くない">もうデプロイも恐くない</h2>

<p>私は業務で、そしてプライベートで静的サイトジェネレータのMiddlemanを使用しています。<br />
静的サイトジェネレータは次のメリットがあります。</p>

<ul>
  <li>サーバ代が安い</li>
  <li>構成がシンプル</li>
  <li>デプロイが楽</li>
  <li>サイト閲覧時のパフォーマンスがよい</li>
</ul>

<p>特に、PHPやらMySQLやらを使わずに済むのが大きいです。<br />
いざとなれば、GitHub PagesやAmazon S3で公開できるわけです。</p>

<p>しかも、デプロイはコマンド一発でアップロード可能です。<br />
FTPと格闘したのが嘘のようです。</p>

<h2 id="bundlerなんてあるわけない">Bundlerなんて、あるわけない</h2>

<p>一方、いろいろと残念なところもあるのですが、特にコードを書ける知識がないとどうにも操れないというのは大きい制約だったりします。<br />
特に、知名度がエンジニア以外に広まっていないというのも地味に大きな問題です。<br />
ここは、業務で静的サイトジェネレータを使おうとする場合、確実に引っかかる点です。<br />
ここで社内政治の調整を怠ると、 <strong>「WordPressでいいじゃない」と言われたり</strong> 、Ruby界の常識である <strong>Bundlerを使わずに入れられたり</strong> と痛い目を見ます。<br />
最近のエンジニアの常識では、機能拡張にnpmやRubyGemsなどのライブラリを使います。<br />
しかし、会社のポリシーによっては社内ネットワークでのインストールの制限がきついところも多いです。<br />
場合によっては、開発機すら用意できないこともあります。<br />
その場合は事前調整をしっかりしておかないとあとあと痛い目に遭います。</p>

<h2 id="最後に残ったmac">最後に残ったMac</h2>

<p>意外にも、開発をうまく進めるためには「社内ネットワーク外」のマシンの活用が近道だったりします。<br />
私たちが目を付けたのは、社内ネットワークにつながっていないMacでした。<br />
そのマシンを使うことで、開発スピードを倍以上に上げることができました。<br />
なぜなら、Macは本社のIT部門の管轄外であるゆえに、インストールが簡単にできたのです。</p>

<h2 id="こんな構成絶対おかしいよ">こんな構成絶対おかしいよ</h2>

<p>アンケートフォームを作る案件でも使用したことがあります。<br />
使用した某クラウドサービスではHTMLでビューを書くのですが、そこに独自タグを埋め込みつつ悪戦苦闘しました。<br />
Reactが使えればよかったのですが、jQueryでがりがりと書きつつ、クライアントサイドのバリデーションを実装するなどいろいろなことをしてみました。</p>

<h2 id="npm私の最高のともだち">npm、私の最高のともだち</h2>

<p>さて、Middlemanに限らず最近のWeb開発で問題となるのがnpmエコシステムをどこまで使うのか、という問題だったりします。<br />
Middlemanでは、v4以降Ruby界で独自に発展したSprocketsというJavaScriptのバンドルシステムに別れを告げています。<br />
それとともに、混沌きわまりないnpmエコシステムの力を借りることになりました。<br />
私が業務で使用しているのはv3でしたが、このnpmエコシステムを利用する方針にしたがってJavaScriptとCSS関係ではgulpとBrowserifyを積極利用する作戦を採用しました。<br />
すべては</p>

<p>npm script =&gt; gulp =&gt; Middleman</p>

<p>という順番で呼び出す形にしています。<br />
これならMiddlemanから他の静的サイトジェネレータに移っても安心……とまではいきませんが。</p>

<p>え、それなら素直にPug.js使えと？<br />
まあ、ありといえばありなのでしょうが。</p>
<div class="social"><ul class="buttons"><li><a href="https://twitter.com/share" class="twitter-share-button"{count} data-via="huideyeren">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></li><li><script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : 1004829916221603,
      xfbml      : true,
      version    : 'v2.5'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script><div
  class="fb-share-button"
  data-href="http://huideyeren.info"
  data-layout="button_count">
</div></li><li><a href="http://b.hatena.ne.jp/entry/huideyeren.info/2016/12/24/static-site-genelator/" class="hatena-bookmark-button" data-hatena-bookmark-title="恢徳堂のイオシフさんのブログ" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加">
          <img src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" />
        </a>
        <script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li></ul></div></article></main><footer><div class="footer-wrapper"><div class="author"><div class="image-wrapper"><a href="/author/"><img alt="author" src="/images/3515381-137be9d4.png" /></a></div></div><div class="copyright"><i class="fa fa-copyright"></i> 2018 <a href="/">恢徳堂のイオシフさんのブログ</a> - イオシフ恢徳野人（ヨーシャ）</div></div></footer></body></html>